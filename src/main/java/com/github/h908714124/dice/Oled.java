package com.github.h908714124.dice;

/**
 * Stolen from https://github.com/noopkat/oled-font-5x7/
 */
class Oled {

    private static final byte[] FONT = new byte[]{
            0x00, 0x00, 0x00, 0x00, 0x00, // (space)
            0x7E, 0x11, 0x11, 0x11, 0x7E, // A
            0x7F, 0x49, 0x49, 0x49, 0x36, // B
            0x3E, 0x41, 0x41, 0x41, 0x22, // C
            0x7F, 0x41, 0x41, 0x22, 0x1C, // D
            0x7F, 0x49, 0x49, 0x49, 0x41, // E
            0x7F, 0x09, 0x09, 0x01, 0x01, // F
            0x3E, 0x41, 0x41, 0x51, 0x32, // G
            0x7F, 0x08, 0x08, 0x08, 0x7F, // H
            0x00, 0x41, 0x7F, 0x41, 0x00, // I
            0x20, 0x40, 0x41, 0x3F, 0x01, // J
            0x7F, 0x08, 0x14, 0x22, 0x41, // K
            0x7F, 0x40, 0x40, 0x40, 0x40, // L
            0x7F, 0x02, 0x04, 0x02, 0x7F, // M
            0x7F, 0x04, 0x08, 0x10, 0x7F, // N
            0x3E, 0x41, 0x41, 0x41, 0x3E, // O
            0x7F, 0x09, 0x09, 0x09, 0x06, // P
            0x3E, 0x41, 0x51, 0x21, 0x5E, // Q
            0x7F, 0x09, 0x19, 0x29, 0x46, // R
            0x46, 0x49, 0x49, 0x49, 0x31, // S
            0x01, 0x01, 0x7F, 0x01, 0x01, // T
            0x3F, 0x40, 0x40, 0x40, 0x3F, // U
            0x1F, 0x20, 0x40, 0x20, 0x1F, // V
            0x7F, 0x20, 0x18, 0x20, 0x7F, // W
            0x63, 0x14, 0x08, 0x14, 0x63, // X
            0x03, 0x04, 0x78, 0x04, 0x03, // Y
            0x61, 0x51, 0x49, 0x45, 0x43 // Z
    };

    private static final char[] lookup = " ABCDEFGHIJKLMNOPQRSTUVWXYZ".toCharArray();

    static boolean isPixel(char c, int col, int row) {
        byte rowsByte = getRowsByte(c, col);
        int i = rowsByte >> row;
        return (i & 1) == 1;
    }

    private static byte getRowsByte(char c, int col) {
        int i = lookupIndex(c);
        return FONT[5 * i + col];

    }

    private static int lookupIndex(char c) {
        for (int i = 0; i < lookup.length; i++) {
            if (lookup[i] == c) {
                return i;
            }
        }
        throw new IllegalArgumentException("Bad char: " + c);
    }
}
